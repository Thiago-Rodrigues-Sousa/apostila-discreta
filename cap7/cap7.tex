\chapter{Relações}\label{cap7}

\epigraph{O cliente pode ter um carro pintado com a cor que desejar,
  contanto que esta seja preto.}{Henry Ford, Pioneiro da indústria automobilística.}


\section{Motivação}

Existem diversos tipos de relações em nosso cotidiano. Algumas destas
descrevem como membros de uma família estão relacionados entre si:
pais, filhos, irmãos, irmãs, sobrinhos, etc. Outras especificam, por
exemplo, que certas cidades pertecem a um determinado país:
por exemplo, Londres está na Inglaterra, e Paris na França. Ou podemos
ter uma relação que descreve quais automóveis são montados por um
certo fabricante. Relações são utilizadas na matemática para descrever
como dois números se relacionam: por exemplo, dados dois números $x$ e
$y$ temos que $x \geq y$, $x < y$, em que $\geq$ e $<$ são relações
entre números.

Relações estão presentes em diversos ramos da computação, pois a
terminologia da teoria de relações permite descrever conceitos de
maneira precisa. Talvez, a aplicação mais famosa de relações em
ciência da computação são os bancos de dados relacionais. Porém,
relações formam a base teórica de muitas outras áreas como a semântica
de linguagens de programação, demonstração de terminação de
algoritmos, representação de informação armazenada em máquinas de
busca, teoria de grafos, etc. Uma vez que relações são ubíquas e
importantes, é útil definí-las como objetos matemáticos e descrever
suas propriedades. O objetivo deste capítulo é apresentar a teoria de
relações e a demonstração de alguns resultados importantes desta.

\begin{Remark}
Neste capítulo assumimos que o leitor já possui a maturidade para
compreender e demonstrar teoremas. Portanto, na maioria das
demonstrações o rascunho será completamente omitido. Porém,
recomenda-se que este seja ``reconstruído'' pelo leitor para um maior
entendimento do conteúdo.
\end{Remark}

\section{Pares Ordenados e Produto Cartesiano}

Em capítulos anteriores, lidamos com conjuntos em que cada elemento é
um ``componente'' deste. Porém, como você aprendeu em outros cursos,
existem conjuntos formados por pares de números que representam pontos
em um plano. Nesta seção, vamos introduzir formalmente o conceito de
par ordenado e como podemos construir conjuntos de pares utilizando
uma operação conhecida como produto cartesiano. As definições
seguintes apresentam estes conceitos.

\begin{Definition}[Par ordenado]
Sejam $A$ e $B$ conjuntos quaisquer em que $a \in A$ e $b \in
B$. Dizemos que $(a,b)$ é um par ordenado em que o primeiro elemento é
$a \in A$ e o segundo $b\in B$.
\end{Definition}

A operação sobre conjuntos que permite a criação de pares ordenados é
o chamado produto cartesiano, que é definido a seguir.

\begin{Definition}[Produto Cartesiano]
Sejam  $A$ e $B$ dois conjuntos quaisquer. O produto cartesiano de $A$
por $B$, $A\times B$, é definido como:
\[
A\times B = \{(a,b)\,|\,a \in A \land b\in B\}
\]
\end{Definition}

\begin{Example}
Sejam $A =\{1,2,3\}$ e $B = \{4,5,6\}$. Temos:
\[
A \times B = \{(1,4),(2,5),(3,6)\}
\]
Evidentemente, temos que $(1,4) \in A \times B$. Além disso, para o
par ordenado $(1,4)$ temos que $1$ é o primeiro elemento (um elemento
do conjunto $A$) e $4$ é o segundo (um elemento de $B$).
\end{Example}
Uma boa maneira de atestarmos a compreensão de um novo conceito
matemático é demonstrando teoremas sobre este.
\begin{Theorem}
Sejam $A, B$ e $C$ conjuntos arbitrários. Então $A \times (B\cap C) =
(A \times B) \cap (A \times C)$.
\end{Theorem}
\begin{proof}
Suponha que $A,B$ e $C$ são conjuntos arbitrários. Suponha $p$
arbitrário.
\begin{itemize}
   \item[$(\to)$] Suponha $p \in A \times (B \cap C)$. Pela definição
     de produto cartesiano, temos que $p = (a,b)$ em que $a \in A$ e
     $b \in B \cap C$. Já que $b\in B\cap C$, temos que $b \in B$ e $b
     \in C$. Como $a \in A$ e $b \in B$, temos que $(a,b)\in A \times
     B$. De maneira similar, já que $a \in A$ e $b \in C$, temos que
     $(a,b) \in A \times C$. Logo, $(a,b) \in (A\times B) \cap
     (B\times C)$. Portanto, se $p \in A\times (B\cap C)$ então
     $(A\times B)\cap (A \times C)$.
   \item[$(\leftarrow)$] Suponha $p\in (A\times B) \cap (A \times
     C)$. Assim, temos que $p \in A \times B$ e $p \in A \times C$.
     Pela definição de produto cartesiano, temos que $p = (a,b)$ em
     que $a \in A$, $b \in B$ e $b\in C$. Já que $b\in B$ e $b\in C$,
     temos que $b\in B\cap C$. Mas, como $a \in A$ e $b\in B\cap C$,
     temos que $(a,b)\in A\times (B\cap C)$. Logo, se $p \in (A\times
     B) \cap (A \times C)$ então $p \in A \times (B\cap C)$.
\end{itemize}
Como $p$ é arbitrário, temos que $A \times (B\cap C) = (A \times B)
\cap (A \times C)$. Portanto, para todos conjuntos $A,B$ e $C$ temos
que $A \times (B\cap C) = (A \times B)
\cap (A \times C)$.
\end{proof}

\begin{Commentary}
Um ponto crucial desta demonstração é a utilização das hipóteses que
um elemento $p$ que pertence ao produto cartesiano de dois conjuntos
deve ser um par em que o primeiro elemento pertence ao primeiro
conjunto e o segundo elemento, ao segundo conjunto.

No caso do teorema anterior, em um momento temos que $p \in A \times
(B\cap C)$, então $p = (a,b)$ em que $a \in A$ e $b \in B\cap C$.

Além deste
detalhe, toda a demonstração consiste apenas de uso de técnicas de
provas que já vimos no capítulos \ref{cap4} e \ref{cap5}.

Evidentemente, como o produto cartesiano de conjuntos é apenas um
conjunto de pares ordenados, todas as notações da teoria de conjuntos
(apresentadas no capítulo \ref{cap5}) são aplicáveis.
\end{Commentary}

Abaixo apresentamos outra demonstração similar.

\begin{Theorem}
Seja $A$ um conjunto qualquer. Então, $A \times \emptyset =
\emptyset$.
\end{Theorem}
\begin{proof}
Suponha $p$ arbitrário.
\begin{itemize}
    \item[$(\to)$] Suponha que $p \in A \times \emptyset$. Como $p \in
      A \times \emptyset$, existem $a \in A$ e $b\in \emptyset$ tais
      que $p = (a,b)$. Mas, não existe $b\in\emptyset$. Logo, o
      resultado desejado é provado por contradição.
    \item[$(\leftarrow)$] Suponha que $p \in \emptyset$. Como não
      existe $p\in\emptyset$, por contradição, o resultado é provado.
\end{itemize}
Como $p$ é arbitrário, temos que $A \times \emptyset = \emptyset$
\end{proof}

\begin{Commentary}
A chave da demonstração anterior é o uso do fato de que não existe
elemento $x \in \emptyset$, o que nos permite concluir a demonstração
usando contradição.
\end{Commentary}
\section{Exercícios}

\begin{enumerate}
  \item Prove os seguintes teoremas:
  \begin{enumerate}
    \item Seja $A$ um conjunto qualquer. Então $A \times \emptyset =
      \emptyset$.
    \item Sejam $A$ e $B$ conjuntos quaisquer. Se $A \times B =
      B\times A$ se e somente se $A = \emptyset$ ou $B = \emptyset$ ou
      $A = B$.
  \end{enumerate}
\end{enumerate}

\section{Introdução às Relações}

Matematicamente, especificamos que dois objetos $a$ e $b$ estão
relacionados dizendo que o par $(a,b)$ pertence ao conjunto de pares
que descreve uma propriedade de interesse sobre estes objetos. Usamos
relações (conceito matemático) para expressar relacionamentos entre
objetos modelados matematicamente como elementos de conjuntos.

\begin{Definition}[Relação]
Suponha que $A$ e $B$ são conjuntos quaisquer. Denominamos o conjunto
$R \subseteq A \times B$ uma relação de $A$ em $B$.
\end{Definition}

A seguir apresentamos alguns exemplos de relações.

\begin{Example}
Considere os seguintes conjuntos $A = \{1,2,3\}$ e $B =
\{4,5,6\}$. Temos que $R = \{(1,5),(3,4)\}$ é uma relação de $A$ em
$B$, já que $R\subseteq A \times B$.

Outro exemplo de relação, agora envolvendo um conjunto infinito de
pares, é:
\[ G = \{(x,y)\in\mathbb{R}\times\mathbb{R}\,|\,x < y\}\]
esta relação representa, utilizando pares, o conceito de ``menor''
sobre números reais.
\end{Example}

Relações não necessariamente são formadas apenas por conjuntos
numéricos. O próximo exemplo mostra relações sobre conjuntos não
numéricos.

\begin{Example}
Considere os seguintes conjuntos que poderiam ser utilizados para
modelar um sistema de informação em uma universidade:
\begin{itemize}
  \item $S$ : conjunto de todos os estudantes da universidade.
  \item $C$: conjunto de todos os cursos de graduação da universidade.
  \item $D$: conjunto de todas as disciplinas oferecidas em cursos da
    universidade.
  \item $P$: conjunto de todos os professores que lecionam na universidade.
\end{itemize}
Utilizando estes conjuntos, temos as seguintes relações:
\begin{itemize}
  \item $R = \{(e,c)\in S \times C\,|\,\text{O estudante } e\text{
      está matriculado no curso }c\}$.
  \item $R_1 =\{(p,d)\in P \times D\,|\,\text{O professor }p\text{
      leciona a disciplina }d\}$.
\end{itemize}
Evidentemente, estas relações estariam representadas por mecanismos
apropriados de bancos de dados relacionais em um sistema de informação
de uma universidade. A primeira relação modela as informações sobre
qual é o curso em que um aluno está matriculado e a segunda, qual
disciplina um professor leciona.
\end{Example}

A seguir, apresentamos alguns conceitos provavelmente já conhecidos
pelo leitor, mas em um contexto de funções e não de
relações\footnote{Veremos, posteriormente, que funções são apenas um
  tipo especial de relações.}.

\begin{Definition}[Domínio, Imagem, Inversa]
Suponha que $R$ é uma relação de $A$ em $B$. Então o domínio de $R$ é
o conjunto:
\[
dom(R) = \{a \in A \,|\, \exists b. b\in B \land (a,b) \in R\}
\]
A imagem\footnote{Normalmente, livros denotam o conjunto imagem usando
a abreviação $ran$ de \textit{range} de imagem em inglês.} de $R$ é definida pelo seguinte conjunto:
\[
ran(R) = \{b\in B \,|\, \exists a. a\in A \land (a,b) \in R\}
\]
Finalmente, a relação inversa de $R$, $R^{-1} \subseteq B\times A$, é:
\[
R^{-1} =\{(b,a)\,|\,\exists a. \exists b. a \in A \land b\in B \land
(a,b) \in R\}
\]
\end{Definition}

\begin{Example}
Considere:
\begin{itemize}
   \item $A = \{1,2,3,4\}$ e $B = \{6,7,8,9,0\}$.
   \item $R = \{(1,6),(3,0),(2,9)\}$.
\end{itemize}
Temos:
\begin{itemize}
   \item $dom(R) =\{1,2,3\}$
   \item $ran(R) =\{0,6,9\}$
   \item $R^{-1} = \{(6,1),(0,3),(9,2)\}$
\end{itemize}
\end{Example}

Encerraremos esta seção com um conceito importante: o de composição de
relações. Este conceito permite a construção de uma nova relação a
partir de duas relações existentes. A seguir definimos formalmente
este conceito e apresentamos alguns exemplos na sequência.

\begin{Definition}[Composição de Relações]
Sejam $R \subseteq A \times B$ e $S \subseteq B \times C$ duas
relações sobre conjuntos $A,B,C$ e $D$. A relação composta
de $S$ e $R$, $S \circ R$, é uma relação de $A$ em $C$ definida
como:
\[
S \circ R =\{(a,c)\,|\,\exists b. b \in B \land (a,b) \in R \land
(b,c) \in S\}
\]
\end{Definition}

\begin{Example}
Considere os seguintes conjuntos que poderiam ser utilizados para
modelar um sistema de informação em uma universidade:
\begin{itemize}
  \item $S$ : conjunto de todos os estudantes da universidade.
  \item $C$: conjunto de todos os cursos de graduação da universidade.
  \item $D$: conjunto de todas as disciplinas oferecidas em cursos da
    universidade.
  \item $P$: conjunto de todos os professores que lecionam na universidade.
\end{itemize}
e as seguintes relações
\begin{itemize}
	\item $R_1 = \{(p,d)\in P \times D \,\mid\,\text{$p$ leciona a disc. } d\}$.
	\item $R_2 = \{(d,c)\in D \times C\,\mid\,\text{$d$ est\'a no curso $c$}\}$.
	\item $R_3 = \{(e,d)\in E\times D\,\mid\,\text{$e$ est\'a matr. em $d$}\}$.
\end{itemize}
Temos que a relação $R_1 \circ R_2 \subseteq P \times C$ é definida
como:
\[
R_1 \circ R_2 =\{(p,c) \in P \times C \,|\,\text{o professor $p$
  leciona alguma disciplina do curso $c$}\}
\]
De maneira similar, podemos definir uma relação que especifica que um
certo aluno está matriculado em um curso, usando composição e as
relações $R_2$ e $R_3$:
\[
R_3 \circ R_2 =\{(e,c)\,|\,\text{o aluno $e$ está matriculado em
  alguma disciplina do curso $c$}\}
\]
\end{Example}

Finalizaremos esta seção com alguns teoremas envolvendo as definições
apresentadas. Novamente vale ressaltar que cabe ao leitor a tarefa de
reconstruir o rascunho para um melhor entendimento do conteúdo
apresentado.

\begin{Theorem}
Suponha que $R \subseteq A \times B$. Então, $(R^{-1})^{-1} = R$.
\end{Theorem}
\begin{proof}
Suponha $p$ arbitrário.
\begin{itemize}
  \item[$(\to)$]: Suponha que $p\in (R^{-1})^{-1}$. Se $R\subseteq A
    \times B$, então $R^{-1}\subseteq B\times A$. Já que
    $R^{-1}\subseteq B\times A$ então $(R^{-1})^{-1}\subseteq A\times
    B$.Como $p\in (R^{-1})^{-1}$, temos que existem $a\in A$ e $b\in
    B$ e $p = (a,b)$. Se $(a,b) \in (R^{-1})^{-1}$, então $(b,a)\in
    R^{-1}$ e, portanto, pela definição de relação inversa, temos que
    $(a,b)\in R$. Logo, se $(a,b)\in
    (R^{-1})^{1}$ então $(a,b)\in R$.
  \item[$(\leftarrow)$]: Suponha que $p \in R$. Como $R\subseteq A$,
    temos que existem $a\in A$ e $b\in B$ tais que $p = (a,b)$. Pela
    definição de inversa, temos que se $(a,b)\in R$ temos que $(b,a)
    \in R^{-1}$ e $(a,b) \in (R^{-1})^{-1}$. Logo, se $(a,b) \in R$
    temos que $(a,b) \in (R^{-1})^{-1}$.
\end{itemize}
   Como $p$ é arbitrário, temos que $(R^{-1})^{-1} = R$.
\end{proof}

\begin{Commentary}
A demonstração do teorema anterior utiliza a representação lógica da
igualdade de dois conjuntos de pares ordenados
(relações). Formalmente, definimos a igualdade de dois conjuntos $A$ e
$B$ da seguinte maneira:
\[ A = B \equiv \forall x. x \in A \leftrightarrow x \in B \]
Além disso, utilizamos a definição de inversa de uma relação, que
consiste em ``trocar'' a ordem dos elementos de um par ordenado. Se
par $(x,y)\in R$ então temos que $(y,x)\in R^{-1}$. O restante da
demonstração consiste em uso das estratégias de prova para o
quantificador universal e o conectivo bicondicional.
\end{Commentary}

\begin{Theorem}
Suponha que $R\subseteq A \times B$, $S \subseteq B \times C$ e $T
\subseteq C \times D$. Então, $T \circ (S \circ R) = (T \circ S) \circ
R$.
\end{Theorem}
\begin{proof}
Suponha que $R\subseteq A \times B$, $S \subseteq B \times C$ e $T
\subseteq C \times D$.
 Suponha $p$ arbitrário.
\begin{itemize}
  \item[$(\to)$]: Suponha que $p \in T \circ (S \circ R)$. Como
    $R\subseteq A \times B$, $S \subseteq B \times C$ e $T
\subseteq C \times D$, temos que $S \circ R \subseteq A \times C$ e
   $T \circ (S \circ R)\subseteq A \times D$. Assim, como  $T \circ (S
   \circ R)\subseteq A \times D$, temos que existem $a \in A$ e $d\in
   D$ tais que $p = (a,d)$. Pela definição de composição, temos que
   para $(a,d) \in T \circ (S \circ R)$, deve existir $c \in C$ tal
   que $(a,c) \in S \circ R$ e $(c,d) \in T$. Mas, para $(a,c) \in S
   \circ R$ deve existir $b\in B$ tal que $(a,b) \in R$ e $(b,c) \in
   S$. Logo, pela definição de composição, temos que $(b,d) \in T
   \circ S$. Novamente, por composição, podemos concluir que
   $(a,d) \in (T \circ S) \circ R$. Logo, se $p \in T \circ (S \circ
   R)$ então $p \in (T \circ S) \circ R$.
  \item[$(\leftarrow)$]: Suponha que $p \in (T \circ S) \circ R$. Como
    $R\subseteq A \times B$, $S \subseteq B \times C$ e $T
\subseteq C \times D$, temos que $T \circ S\subseteq B \times D$ e
 $(T\circ S) \circ R \subseteq A \times D$. Assim, como $(T\circ S)
 \circ R \subseteq A \times D$, temos que existem $a \in A$ e $d\in D$
 tais que $p = (a,d)$. Pela definição de composição, temos que para
 $(a,d) \in (T\circ S) \circ R$ deve existir  $b\in B$ tal que $(b,d)
 \in T \circ S$ e $(a,b) \in R$. Por sua vez, para $(b,d)
 \in T \circ S$, deve existir $c\in C$ tal que $(b,c) \in S$ e $(c,d)
 \in T$. Novamente, por composição, temos que $(a,c)\in S\circ R$ e
 que $(a,d) \in T\circ (S \circ R)$. Logo, se $p \in (T\circ S) \circ
 R$ então $p \in T \circ (S \circ R)$.
\end{itemize}
Como $p$ é arbitrário, temos que $T \circ (S \circ R) = (T \circ S)
\circ R$.
\end{proof}

\begin{Commentary}
Neste teorema utilizou-se extensivamente a definição de composição de
relações. Se $R \subseteq A \times  B$ e $S \subseteq B \times C$,
então $S\circ R \subseteq A \times C$ é definido como:
\[
S \circ R = \{(a,c) \,|\, \exists b. b\in B \land (a,b) \in R \land
(b,c) \in S\}
\]
A partir desta definição, utilizamos a hipótese envolvendo o
quantificador existencial para deduzir cada um dos pares que pertencem
as relações $R,S$ e $T$ que foram utilizados para construir o par $p =
(a,d)$ utilizado na demonstração.
\end{Commentary}

\section{Exercícios}

\begin{enumerate}
	\item Sejam $A=\{1,2,3\}$, $B=\{4,5,6\}$, $R=\{(1,4), (1,5), (2,5), (3,6)\}$ e $S=\{(4,5), (4,6), (5,4), (6,6)\}$.
	      Note que $R\subseteq A\times B$ e $S\subseteq B\times B$. Encontre as seguintes rela\c{c}\~oes:
	\begin{enumerate}
		\item $S\circ R$
		\item $S\circ S$
		\item $S^{-1}\circ R$
		\item $R^{-1}\circ S$
	\end{enumerate}
	\item Seja $R$ uma rela\c{c}\~ao sobre um conjunto $A$. Prove que
          $R\circ R^{-1}\subseteq i_{A}$, em que $i_{A}=\{(x,x)\,|\,x\in A\}$.
	\item Sejam $A$ e $B$ dois conjuntos quaisquer.
	\begin{enumerate}
		\item Prove que para toda rela\c{c}\~ao $R\subseteq A\times B$, $R\circ i_{A} = R$, em que $i_{A}=\{(x,x)\,|\,x\in A\}$.
		\item Prove que para toda rela\c{c}\~ao $R\subseteq A\times B$, $i_{B}\circ R = R$, em que $i_{B}=\{(x,x)\,|\,x\in B\}$.
	\end{enumerate}
\end{enumerate}

\section{Relações Binárias}

Nesta seção apresentaremos propriedades de um tipo especial de
relação: as relações binárias, cuja definição apresentamos a seguir.

\begin{Definition}[Relação Binária]
Seja $A$ um conjunto qualquer. Dizemos que $R$ é uma relação binária
sobre $A$ se $R \subseteq A\times A$.
\end{Definition}

\begin{Example}
As seguintes relações são relações binárias sobre os seguintes
conjuntos $A = \{1,2\}$, $\mathbb{N}$, $P$ (conjunto de todas as
pessoas) e subconjuntos de um conjunto $B$ ($\mathcal{P}(B)$).
\begin{itemize}
  \item $R = \{(1,2),(1,1)\}$.
  \item $G = \{(x,y)\in \mathbb{N}\times\mathbb{N}\,|\,x > y\}$.
  \item $I =\{(x,y)\in P \times P\,|\,x\text{ é irmão de }y\}$.
  \item $S = \{(x,y)\in \mathcal{P}(B)\times\mathcal{P}(B)\,|\,x
    \subseteq y\}$.
\end{itemize}
\end{Example}

Relações binárias são interessantes por possuírem diversas
propriedades que permitem que possamos classificá-las e usar diversos
resultados sobre estas propriedades. Antes de apresentarmos estas propriedades,
vamos introduzir uma notação para representar o fato que um certo par
pertence a uma relação $R$.
\begin{Notation}
Seja $R\subseteq A \times A$ uma relação binária qualquer sobre um
conjunto $A$. Representaremos o fato de que $(x,y) \in R$ como $xRy$.
\end{Notation}
A seguir definimos estas propriedades.

\begin{Definition}[Relação Reflexiva]
Seja $R\subseteq A \times A$ uma relação binária qualquer. Dizemos que
$R$ é uma relação reflexiva se
\[
\forall x. x\in A \to  xRx.
\]
\end{Definition}

\begin{Example}
Abaixo apresentamos diversos exemplos de relações reflexivas.
\begin{itemize}
  \item $R = \{(x,y) \in \mathbb{N} \times \mathbb{N}\,|\, x \leq
    y\}$ é uma relação reflexiva pois todo número $n\in\mathbb{N}$ é
    menor ou igual a si próprio.
  \item $R_1 = \{(p,q)\,|\,\text{as palavras $p$ e $q$ iniciam com a
      mesma letra do alfabeto.}\}$ é uma relação reflexiva pois toda
    palavra $p$ inicia com a mesma letra que ela própria.
  \item $R_2=\{(x,y)\in\mathcal{P}(A)\times\mathcal{P}(A)\,|\,x
    \subseteq y\}$ é uma relação reflexiva pois todo conjunto $x$ é
    subconjunto de si próprio.
\end{itemize}
\end{Example}

\begin{Definition}[Relação Simétrica]
Seja $R\subseteq A \times A$ uma relação binária qualquer. Dizemos que
$R$ é uma relação simétrica se
\[\forall x.\forall y. x \in A \land y\in A \land x R y \to y R x. \]
\end{Definition}
\begin{Example}
São exemplos de relações simétricas.
\begin{itemize}
   \item $R = \{(p,q)\,|\,\text{a pessoa $p$ é irmã(o) da pessoa
     }q.\}$ é uma relação simétrica já que, para quaisquer $p$ e $q$,
    se $p$ é irmão de $q$ então $q$ também é irmão de $p$.
  \item $R_1 = \{(p,q)\,|\,\text{as palavras $p$ e $q$ iniciam com a
      mesma letra do alfabeto.}\}$ é uma relação simétrica já que,
    para quaisquer palavras $p$ e $q$, se $p$ inicia com a mesma letra
    que $q$, então $q$ inicia com a mesma letra que $p$.
  \item $R_2=\{(x,y)\in\mathcal{P}(A)\times\mathcal{P}(A)\,|\,\exists
    z. z \in x \land z \in y\}$ é uma relação simétrica, pois se um
    elemento $z$ pertence a um conjunto $x$ e a um conjunto $y$ então
    este mesmo elemento pertence ao conjunto $y$ e $x$.
\end{itemize}
\end{Example}

\begin{Definition}[Relação Transitiva]
Seja $R\subseteq A \times A$ uma relação binária qualquer. Dizemos que
$R$ é uma relação transitiva se
\[
\forall x.\forall y. \forall z. x \in A \land y \in A \land z \in A
\land xRy \land yRz \to xRz
\]
\end{Definition}


\begin{Example}
São exemplos de relações transitivas.
\begin{itemize}
  \item $R = \{(x,y) \in \mathbb{N} \times \mathbb{N}\,|\, x \leq
    y\}$ é uma relação transitiva, pois se $x \leq y$ e $y \leq z$
    então $x\leq z$.
  \item $R_1 = \{(p,q)\,|\,\text{as palavras $p$ e $q$ iniciam com a
      mesma letra do alfabeto.}\}$ é uma relação transitiva já que,
    para quaisquer palavras $p$, $q$ e $r$, se $p$ inicia com a mesma letra
    que $q$ e $q$ inicia com a mesma letra que $r$ então $p$ inicia
    com a mesma letra que $r$.
  \item
    $R_2=\{(x,y)\in\mathcal{P}(A)\times\mathcal{P}(A)\,|\,x\subseteq y\}$ é uma relação transitiva, pois se um
    conjunto $x$ está contido em um conjunto $y$ e $y$ está contido em
    um conjunto $z$, então $x$ está contido em $z$.
\end{itemize}
\end{Example}


\begin{Definition}[Relação Anti-simétrica]
Seja $R\subseteq A \times A$ uma relação binária qualquer. Dizemos que
$R$ é uma relação anti-simétrica se
\[
\forall x.\forall y.  x \in A \land y \in A
\land xRy \land yRx \to x = y
\]
\end{Definition}

\begin{Example}
São exemplos de relações anti-simétricas.
\begin{itemize}
  \item $R = \{(x,y) \in \mathbb{N} \times \mathbb{N}\,|\, x \leq
    y\}$ é uma relação anti-simétrica, pois se $x \leq y$ e $y \leq x$
    então $x = y$.
  \item
    $R_2=\{(x,y)\in\mathcal{P}(A)\times\mathcal{P}(A)\,|\,x\subseteq
    y\}$ é uma relação anti-simétrica, pois se um
    conjunto $x$ está contido em um conjunto $y$ e $y$ está contido em
    $x$, então os conjuntos $x$ e $y$ são iguais (pela definição de
    igualdade de conjuntos).
\end{itemize}
\end{Example}
Agora que estas definições foram apresentadas juntamente com alguns
exemplos, as utilizaremos para demonstrar alguns teoremas. Vamos
demonstrar um dos teoremas em detalhes (apresentando o rascunho e a
construção passa-a-passo do texto) e os outros dois mostraremos apenas
o texto final.
\begin{Theorem}
Suponha que $R$ é uma relação binária sobre um conjunto $A$. Então:
\begin{enumerate}
     \item Se $R$ é reflexiva então $i_A \subseteq R$, em que
       $i_A=\{(x,x)\,|\,x \in A\}$.
     \item Se $R$ é simétrica então $R = R^{-1}$.
     \item Se $R$ é transitiva então $R \circ R \subseteq R$.
\end{enumerate}
\end{Theorem}
\begin{Example}
Demonstraremos o primeiro item em detalhes.
A partir do enunciado do primeiro item, temos a seguinte configuração
inicial do rascunho.
\begin{flushleft}
\begin{tabular}{ll}
Hipóteses & Conclusão \\
$R\subseteq A \times A$ &  $R$ é reflexiva $\to i_{A}\subseteq R$
\end{tabular}
\end{flushleft}
Utilizando a estratégia de prova direta, temos a seguinte configuração
do rascunho.
\begin{flushleft}
\begin{tabular}{ll}
Hipóteses & Conclusão \\
$R\subseteq A \times A$ &  $i_{A}\subseteq R$\\
$R$ é reflexiva & \\
\end{tabular}
\end{flushleft}
Utilizando a definição de subconjunto, temos
\begin{flushleft}
\begin{tabular}{ll}
Hipóteses & Conclusão \\
$R\subseteq A \times A$ &  $\forall p. p \in i_{A} \to p \in  R$\\
$R$ é reflexiva & \\
\end{tabular}
\end{flushleft}
Agora, aplicando as estratégias de prova para o quantificador
universal e implicação (nesta ordem) temos
\begin{flushleft}
\begin{tabular}{ll}
Hipóteses & Conclusão \\
$R\subseteq A \times A$ &  $p \in  R$\\
$R$ é reflexiva & \\
$p$ arbitrário & \\
$p \in i_{A}$ & \\
\end{tabular}
\end{flushleft}
Se $p \in i_{A}$ então existe $y$ tal que $p = (y,y)$.
\begin{flushleft}
\begin{tabular}{ll}
Hipóteses & Conclusão \\
$R\subseteq A \times A$ &  $p \in  R$\\
$R$ é reflexiva & \\
$p$ arbitrário & \\
$p \in i_{A}$ & \\
$\exists y. y\in A \land p = (y,y)$ & \\
\end{tabular}
\end{flushleft}
Usando a estratégia de hipóteses para o quantificador existencial,
temos
\begin{flushleft}
\begin{tabular}{ll}
Hipóteses & Conclusão \\
$R\subseteq A \times A$ &  $p \in  R$\\
$R$ é reflexiva & \\
$p$ arbitrário & \\
$p \in i_{A}$ & \\
$\exists y. y\in A \land p = (y,y)$ & \\
$y\in A$ & \\
$p = (y,y)$ & \\
\end{tabular}
\end{flushleft}
Utilizando a definição de relação reflexiva, temos:
\begin{flushleft}
\begin{tabular}{ll}
Hipóteses & Conclusão \\
$R\subseteq A \times A$ &  $p \in  R$\\
$R$ é reflexiva & \\
$p$ arbitrário & \\
$p \in i_{A}$ & \\
$\exists y. y\in A \land p = (y,y)$ & \\
$y\in A$ & \\
$p = (y,y)$ & \\
$\forall x. x \in A \to xRx$ & \\
\end{tabular}
\end{flushleft}
Agora, basta usar a eliminação do quantificador universal
(substituindo $x$ por $y$), temos:
\begin{flushleft}
\begin{tabular}{ll}
Hipóteses & Conclusão \\
$R\subseteq A \times A$ &  $p \in  R$\\
$R$ é reflexiva & \\
$p$ arbitrário & \\
$p \in i_{A}$ & \\
$\exists y. y\in A \land p = (y,y)$ & \\
$y\in A$ & \\
$p = (y,y)$ & \\
$\forall x. x \in A \to xRx$ & \\
$y \in A \to y R y$ & \\
\end{tabular}
\end{flushleft}
Usando as hipóteses $y \in A$ e $y\in A \to y R y$, concluímos a
demonstração do teorema.

Agora, vamos construir o texto deste teorema
passo-a-passo. Primeiramente, mostramos a parte do texto
correspondente a primeira implicação deste teorema.
\begin{flushleft}
Suponha que $R$ seja uma relação reflexiva.\\
\verb|   |[Prova de $i_{A}\subseteq R$].\\
Portanto, se $R$ é uma relação reflexiva então $i_{A} \subseteq R$.
\end{flushleft}
Agora, utilizando a definição de $\subseteq$ em termos do
quantificador universal, temos:
\begin{flushleft}
Suponha que $R$ seja uma relação reflexiva.\\
\verb|   |Suponha $p$ arbitrário.\\
\verb|      |[Prova de $p \in i_{A} \to p \in R$].\\
\verb|   |Como $p$ é arbitrário, temos que $i_{A} \subseteq R$.\\
Portanto, se $R$ é uma relação reflexiva então $i_{A} \subseteq R$.
\end{flushleft}
Usando prova direta, temos
\begin{flushleft}
Suponha que $R$ seja uma relação reflexiva.\\
\verb|   |Suponha $p$ arbitrário.\\
\verb|      |Suponha que $p \in i_A$.\\
\verb|         |[Prova de $p \in R$].\\
\verb|      |Logo, se $p\in i_A$ então $p \in R$.\\
\verb|   |Como $p$ é arbitrário, temos que $i_{A} \subseteq R$.\\
Portanto, se $R$ é uma relação reflexiva então $i_{A} \subseteq R$.
\end{flushleft}
Agora, concluímos o texto utilizando as hipóteses.
\begin{flushleft}
Suponha que $R$ seja uma relação reflexiva.\\
\verb|   |Suponha $p$ arbitrário.\\
\verb|      |Suponha que $p \in i_A$.\\
\verb|         |Como $p\in i_A$, existe $y \in A$ tal que $p = (y,y)$.\\
\verb|         |Como $R$ é reflexiva e $y \in A$, temos que $yRy$.\\
\verb|      |Logo, se $p\in i_A$ então $p \in R$.\\
\verb|   |Como $p$ é arbitrário, temos que $i_{A} \subseteq R$.\\
Portanto, se $R$ é uma relação reflexiva então $i_{A} \subseteq R$.
\end{flushleft}
\end{Example}